<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue3 + vite创建后台管理系统 | 刀刀的知识积累</title>
    <meta name="generator" content="VuePress 1.9.8">
    <script>var _hmt = _hmt || [];
            (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?6371333d39195dbe958ef14c0a722ac4";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
            })();</script>
    <link rel="icon" href="/daodao-knowledge/img/newlogo.ico">
    <meta name="description" content="立志不再懒懒散散的小前端的知识库">
    <meta name="referrer" content="no-referrer">
    
    <link rel="preload" href="/daodao-knowledge/assets/css/0.styles.baff37af.css" as="style"><link rel="preload" href="/daodao-knowledge/assets/js/app.4258478e.js" as="script"><link rel="preload" href="/daodao-knowledge/assets/js/7.6de88e70.js" as="script"><link rel="preload" href="/daodao-knowledge/assets/js/73.e0dfad5d.js" as="script"><link rel="prefetch" href="/daodao-knowledge/assets/js/1.11c454db.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/10.8973f190.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/100.0adc5800.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/101.113e5f80.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/102.2aa78021.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/103.7ace6026.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/104.99b6dc24.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/105.8747e6b8.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/106.64e6c34d.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/107.f9c6eabb.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/108.795cc1a7.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/109.58862e0f.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/11.d236f628.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/110.b7de1be8.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/111.3e1e6d34.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/112.7dc0987a.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/113.5070c411.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/114.38e088f5.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/115.0787bce0.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/116.3741f01e.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/117.d1745453.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/118.4b671625.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/119.cda044c4.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/12.0120b136.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/120.e0b9b581.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/121.e4772723.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/122.c7b91f8d.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/123.f7fa7147.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/124.de2f7fa4.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/125.566a93c9.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/126.d47059a1.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/127.c14e0122.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/13.b512d376.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/14.e979cc1c.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/15.9f062a80.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/16.1a7ae41b.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/17.44ad519e.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/18.6fb9d0a2.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/19.c878a525.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/2.cff8910f.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/20.ed02bc83.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/21.5e10534e.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/22.5db6a325.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/23.4b0c8a46.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/24.691b0858.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/25.b4044f2b.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/26.e0dc299e.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/27.b4ba8b9b.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/28.958930b1.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/29.2d15b947.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/3.43a31ed6.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/30.2a090648.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/31.c636b803.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/32.fa985393.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/33.f03bce32.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/34.2227e6b8.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/35.e0355f15.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/36.fda5358e.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/37.09e80576.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/38.674a9dd8.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/39.2c7c2513.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/4.c589e543.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/40.8f65b8f2.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/41.dc4ecd7f.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/42.e7ed8a61.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/43.69394b08.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/44.9e46a283.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/45.0c096364.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/46.24e4537d.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/47.1fd84713.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/48.594d8b46.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/49.159f76c4.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/5.97c89d2f.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/50.97ca9806.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/51.324f0688.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/52.7feeae11.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/53.aa17b894.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/54.ff312bdc.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/55.be9327d7.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/56.366382aa.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/57.46137c71.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/58.419843e0.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/59.9afc6ff8.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/60.78465b2b.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/61.fb5c4f16.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/62.87ee144a.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/63.bc75d37b.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/64.da1c6de5.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/65.e9d06a92.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/66.a55cab0a.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/67.1eeaa800.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/68.b86f016d.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/69.fc8c486e.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/70.623f91e7.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/71.8a41c341.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/72.95a49ebc.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/74.7480bb39.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/75.14a6a3c8.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/76.9e395ce0.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/77.c52cd427.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/78.2b43215d.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/79.a7c4e137.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/8.3d2ab0d4.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/80.708778d5.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/81.79c939da.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/82.6b744d95.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/83.a02e249a.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/84.fe693932.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/85.7f8edc21.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/86.0973403f.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/87.634116a1.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/88.ceff6dab.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/89.c36e522a.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/9.420cee3d.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/90.76e2d3af.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/91.a26002ba.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/92.33681b1b.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/93.b0d8d55c.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/94.a5ffdbf9.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/95.4fe69fcf.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/96.067b84f5.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/97.29a36062.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/98.a9068ccf.js"><link rel="prefetch" href="/daodao-knowledge/assets/js/99.4b470570.js">
    <link rel="stylesheet" href="/daodao-knowledge/assets/css/0.styles.baff37af.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/daodao-knowledge/" class="home-link router-link-active"><img src="/daodao-knowledge/img/home.jpg" alt="刀刀的知识积累" class="logo"> <span class="site-name can-hide">刀刀的知识积累</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/daodao-knowledge/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端学习" class="dropdown-title"><span class="title">前端学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端学习" class="mobile-dropdown-title"><span class="title">前端学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/600fd9/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/12e2d5/" class="nav-link">
  算法&amp;常用方法
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/450a09/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/331c3b/" class="nav-link">
  css
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/a5dbfb/" class="nav-link">
  现代JavaScript库开发
</a></li></ul></li><li class="dropdown-item"><h4>
          框架学习
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/8ea889/" class="nav-link">
  react
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/3ba846/" class="nav-link">
  vuePress
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/347ae3/" class="nav-link">
  qiankun微前端
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/f97ef5/" class="nav-link">
  vue3
</a></li></ul></li><li class="dropdown-item"><h4>
          webgl学习
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/7fb7ad/" class="nav-link">
  threejs
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/daodao-knowledge/pages/cd2a4f/" class="nav-link">
  零零碎碎
</a></div><div class="nav-item"><a href="/daodao-knowledge/pages/9d1205/" class="nav-link">
  随记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><span class="title">索引</span> <span class="arrow down"></span></button> <button type="button" aria-label="索引" class="mobile-dropdown-title"><span class="title">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/daodao-knowledge/archives/" class="nav-link">
  归档
</a></li></ul></div></div><div class="nav-item"><a href="/daodao-knowledge/daodao/" class="nav-link">
  关于我
</a></div> <a href="https://github.com/Ostask/daodao-knowledge" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/daodao-knowledge/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端学习" class="dropdown-title"><span class="title">前端学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端学习" class="mobile-dropdown-title"><span class="title">前端学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/600fd9/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/12e2d5/" class="nav-link">
  算法&amp;常用方法
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/450a09/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/331c3b/" class="nav-link">
  css
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/a5dbfb/" class="nav-link">
  现代JavaScript库开发
</a></li></ul></li><li class="dropdown-item"><h4>
          框架学习
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/8ea889/" class="nav-link">
  react
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/3ba846/" class="nav-link">
  vuePress
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/347ae3/" class="nav-link">
  qiankun微前端
</a></li><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/f97ef5/" class="nav-link">
  vue3
</a></li></ul></li><li class="dropdown-item"><h4>
          webgl学习
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/daodao-knowledge/pages/7fb7ad/" class="nav-link">
  threejs
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/daodao-knowledge/pages/cd2a4f/" class="nav-link">
  零零碎碎
</a></div><div class="nav-item"><a href="/daodao-knowledge/pages/9d1205/" class="nav-link">
  随记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><span class="title">索引</span> <span class="arrow down"></span></button> <button type="button" aria-label="索引" class="mobile-dropdown-title"><span class="title">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/daodao-knowledge/archives/" class="nav-link">
  归档
</a></li></ul></div></div><div class="nav-item"><a href="/daodao-knowledge/daodao/" class="nav-link">
  关于我
</a></div> <a href="https://github.com/Ostask/daodao-knowledge" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/daodao-knowledge/pages/f97ef5/" class="sidebar-link">学黄轶老师vue3音乐APP(2-4章)</a></li><li><a href="/daodao-knowledge/pages/1ab44e/" class="sidebar-link">学黄轶老师vue3音乐APP(第5章)</a></li><li><a href="/daodao-knowledge/pages/815447/" class="sidebar-link">学黄轶老师vue3音乐APP(6-10章)</a></li><li><a href="/daodao-knowledge/pages/6dba83/" aria-current="page" class="active sidebar-link">vue3 + vite创建后台管理系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#如何用vite创建vue3项目" class="sidebar-link">如何用vite创建vue3项目</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#别名配置" class="sidebar-link">@别名配置</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#文件目录划分" class="sidebar-link">文件目录划分</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#配置环境变量" class="sidebar-link">配置环境变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#修改模式" class="sidebar-link">修改模式</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#配置-env文件" class="sidebar-link">配置.env文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#写布局和侧边栏组件" class="sidebar-link">写布局和侧边栏组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#后台管理系统布局" class="sidebar-link">后台管理系统布局</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#layout-vue" class="sidebar-link">Layout.vue</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#侧边栏" class="sidebar-link">侧边栏</a></li></ul></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#vuex使用" class="sidebar-link">vuex使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#index-js" class="sidebar-link">index.js</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#state-js" class="sidebar-link">state.js</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#mutations-js" class="sidebar-link">mutations.js</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#actions-js" class="sidebar-link">actions.js</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#getters-js" class="sidebar-link">getters.js</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#左侧导航栏使用vuex的数据" class="sidebar-link">左侧导航栏使用vuex的数据</a></li></ul></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#使用mockjs模拟数据" class="sidebar-link">使用mockjs模拟数据</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#动态添加路由" class="sidebar-link">动态添加路由</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#使用nprogress-添加路由守卫" class="sidebar-link">使用nprogress，添加路由守卫</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#请求菜单数据" class="sidebar-link">请求菜单数据</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#动态添加路由-2" class="sidebar-link">动态添加路由</a></li></ul></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#使用element-plus以及修改样式" class="sidebar-link">使用element-plus以及修改样式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#原理" class="sidebar-link">原理</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#实践" class="sidebar-link">实践</a></li></ul></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#在页面中嵌套iframe" class="sidebar-link">在页面中嵌套iframe</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#封装no-data组件和指令" class="sidebar-link">封装no-data组件和指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#封装no-data组件" class="sidebar-link">封装no-data组件</a></li><li class="sidebar-sub-header"><a href="/daodao-knowledge/pages/6dba83/#封装指令" class="sidebar-link">封装指令</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="page-content hasRightNav"><div class="right-nav" data-v-58b0b819></div> <div class="article-title theme-default-content" data-v-fda27140><h1 data-v-fda27140><span class="circle" data-v-fda27140></span>vue3 + vite创建后台管理系统</h1> <div class="lastUpdatedTime" data-v-fda27140><span class="text" data-v-fda27140>更新时间:</span> 2021-11-23 09:50:07</div></div> <div class="theme-default-content content__default"><p>最近公司遇到个客户项目全是CRUD，没有难度，但是页面又特别多，感觉项目没有意思，于是我拿这个项目练手使用<code>vite</code> + <code>vue3</code> + <code>element-plus</code></p> <h2 id="如何用vite创建vue3项目"><a href="#如何用vite创建vue3项目" class="header-anchor">#</a> 如何用vite创建vue3项目</h2> <p><code>vite</code>是一个web开发构建工具，由于其原生ES模块导入方式，可以实现闪电般的冷服务器启动。如何用vite构建vue3项目呢：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># npm 6.x</span>
<span class="token function">npm</span> init vite@latest <span class="token operator">&lt;</span>project-name<span class="token operator">&gt;</span> <span class="token parameter variable">--template</span> vue

<span class="token comment"># npm 7+ 需要加上额外的双短横线</span>
<span class="token function">npm</span> init vite@latest <span class="token operator">&lt;</span>project-name<span class="token operator">&gt;</span> -- <span class="token parameter variable">--template</span> vue

<span class="token builtin class-name">cd</span> <span class="token operator">&lt;</span>project-name<span class="token operator">&gt;</span>
<span class="token function">npm</span> <span class="token function">install</span>
<span class="token function">npm</span> run dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这样就可以快速的创建一个vue3项目</p> <p>然后我们安装上必要的依赖</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># dependencies</span>
<span class="token string">&quot;axios&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^0.24.0&quot;</span>,
<span class="token string">&quot;element-plus&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^1.2.0-beta.3&quot;</span>,
<span class="token string">&quot;nprogress&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^0.2.0&quot;</span>,
<span class="token string">&quot;vue&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^3.2.16&quot;</span>,
<span class="token string">&quot;vue-router&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^4.0.12&quot;</span>,
<span class="token string">&quot;vuex&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^4.0.2&quot;</span>,

<span class="token comment"># devDependencies</span>
<span class="token string">&quot;mockjs&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^1.1.0&quot;</span>,
<span class="token string">&quot;sass&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^1.43.4&quot;</span>,
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="别名配置"><a href="#别名配置" class="header-anchor">#</a> @别名配置</h2> <p>使用<code>webpack</code>时可以配置<code>alias</code>来简化一长串的路径，vite也可以，我们将<code>src</code>的目录配置别名<code>@</code>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// vite.config.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vite'</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>resolve<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">'@vitejs/plugin-vue'</span>

<span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">resolve</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'@'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="文件目录划分"><a href="#文件目录划分" class="header-anchor">#</a> 文件目录划分</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>├── public (不打包不压缩的文件放这里，比如图片之类的)
├── src  
│   ├── assets (放一些静态的图片图标之类)
│   ├── components (公共组件)
│   ├── mock (数据模拟)
│   ├── router (路由)
│   ├── store (vuex)
│   ├── style (样式文件)
│   ├── utils (公用的js)
│   ├── views (界面都放在这里)
│   ├── App.vue (vue挂载的组件)
│   └── main.js (入口js)
│ 
├── .env.dev (dev环境配置)
├── .env.prod (prod环境配置)
├── package.json
├── README.md
├── vite.config.js
└── index.html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="配置环境变量"><a href="#配置环境变量" class="header-anchor">#</a> 配置环境变量</h2> <p><code>vite</code>在一个特殊的<code>import.meta.env</code>对象上暴露环境变量。这里有一些普遍使用的内建变量：</p> <ul><li><code>import.meta.env.MODE</code>:<code>string</code> 应用运行基于的模式。</li> <li><code>import.meta.env.BASE_URL</code>: <code>string</code>应用正被部署在的<code>base URL</code>。它由<code>base</code>配置项决定。</li> <li><code>import.meta.env.PROD</code>: <code>boolean</code>应用是否运行在生产环境</li> <li><code>import.meta.env.DEV</code>：<code>boolean</code>应用是否运行在开发环境(永远与<code>import.meta.env.PROD</code>相反)</li></ul> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>在生产环境中，这些环境变量会在构建时被静态替换，因此请在引用他们时使用完全静态的字符串。动态的key将无法生效。例如，动态key取值 <code>import.meta.env[key]</code>是无效的。</p></div> <h3 id="修改模式"><a href="#修改模式" class="header-anchor">#</a> 修改模式</h3> <p>在<code>package.json</code>中修改<code>scripts</code>选项：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite --mode dev&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite build --mode prod&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite preview&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>现在运行<code>dev</code>,模式就是<code>dev</code>。运行<code>build</code>, 模式就是<code>prod</code>。</p> <h3 id="配置-env文件"><a href="#配置-env文件" class="header-anchor">#</a> 配置.env文件</h3> <p>在根目录新建<code>.env.dev</code>和<code>.env.prod</code>文件。为了防止意外地将一些环境变量泄漏到客户端，只有以<code>VITE_</code>为前缀的变量才会暴露给经过vite处理的代码。
比如 <code>ABC</code>和<code>VITE_ABC</code>中，只有<code>VITE_ABC</code>会暴露为<code>import.meta.env.VITE_ABC</code>。</p> <h2 id="写布局和侧边栏组件"><a href="#写布局和侧边栏组件" class="header-anchor">#</a> 写布局和侧边栏组件</h2> <h3 id="后台管理系统布局"><a href="#后台管理系统布局" class="header-anchor">#</a> 后台管理系统布局</h3> <p>后台管理系统大多都是这个布局
<img src="https://daodaoblogpicgo.oss-cn-shanghai.aliyuncs.com/img/20210220211124094554.png" alt="">
也就是很多页面都会公用一个布局，也可能有其他的布局，所以App组件中不适合直接写布局代码。我们采用二级路由的方式，一级路由的组件指向布局组件，二级路由组件指向中间内容部分的页面。</p> <h3 id="layout-vue"><a href="#layout-vue" class="header-anchor">#</a> Layout.vue</h3> <p><code>Layout</code>组件包含三个部分，头部，导航区域，内容区域</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--头部区域--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>page-header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>page-header</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--导航区域--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>page-nav</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>page-nav</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--内容区域--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>头部区域没什么好说的，普普通通。导航区域后面再讲，中间的内容区域用<code>&lt;router-view&gt;</code>显示二级路由的组件。</p> <h3 id="侧边栏"><a href="#侧边栏" class="header-anchor">#</a> 侧边栏</h3> <p>侧边栏不能写死成两级，因为可能会出现三级四级的，虽然这样很麻烦。。但是也不是不可能。<br>
因此我把侧边栏分成两个部分：</p> <ul><li>列表<br>
即有子集的菜单，这个列表可以嵌套自身达到递归的效果</li> <li>菜单<br>
即没有子集的菜单，这个菜单不可以嵌套别的菜单了</li></ul> <h4 id="首先定义侧边栏的数据结构"><a href="#首先定义侧边栏的数据结构" class="header-anchor">#</a> 首先定义侧边栏的数据结构：</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> menuList <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>    <span class="token comment">// vue-router需要的参数</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>   <span class="token comment">// 匹配的地址，用来判定当前是哪个按钮高亮</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'首页'</span><span class="token punctuation">,</span>  <span class="token comment">// vue-router需要的参数，同时也是这个按钮的名称</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'sy'</span><span class="token punctuation">,</span>  <span class="token comment">// id，唯一标识符，以后后台查询出来的数据肯定会有的，我先加上</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'button'</span><span class="token punctuation">,</span> <span class="token comment">// button代表这是按钮没有下级， menu代表这是有下级的</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'/Layout/Layout'</span><span class="token punctuation">,</span>  <span class="token comment">// 组件的地址</span>
        <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;home&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">//重定向到 home</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>    
            <span class="token punctuation">{</span>
                <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'home'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'button'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;home&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;首页&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'/Home'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/organization'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'组织管理'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'zzgl'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'menu'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'/Layout/Layout'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">'/organization/employingUnit'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'ygdwgl'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'button'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;employingUnit&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;用工单位管理&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'/organization/employingUnit'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'bzgl'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">'/organization/teamManagement'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'button'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;teamManagement&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;班组管理&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'/organization/teamManagement'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'rrgl'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">'/organization/propleManagement'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'button'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;propleManagement&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;人员管理&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'/organization/propleManagement'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><h4 id="导航组件"><a href="#导航组件" class="header-anchor">#</a> 导航组件</h4> <p>使用<code>element-plus</code>的<code>el-menu</code>组件来写导航，不会的同学可以去看官网：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-scrollbar</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu</span>
                <span class="token attr-name">:default-active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>defaultActive<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">unique-opened</span>
            <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slide-menu</span>
                    <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in menus<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">:menu</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span>
                <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slide-menu</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-scrollbar</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> <span class="token punctuation">{</span>computed<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span>useRoute<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span>
    <span class="token keyword">import</span> SlideMenu <span class="token keyword">from</span> <span class="token string">&quot;./components/slideMenu.vue&quot;</span>
    <span class="token keyword">import</span> menus <span class="token keyword">from</span> <span class="token string">&quot;./menu&quot;</span>  <span class="token comment">//将导航的数据引入进来</span>

    <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> defaultActive <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> route<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>其中<code>SlideMenu</code>是我们接下来要封装的包含自身的递归组件。</p> <h4 id="slidemenu组件"><a href="#slidemenu组件" class="header-anchor">#</a> SlideMenu组件</h4> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-sub-menu</span>
        <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu.id + ''<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu.type=='menu'<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#title</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{menu.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slide-menu</span>
                <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child in menu.children<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child.id<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:menu</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slide-menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-sub-menu</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu-item</span>
        <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu.type == 'button'<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setIndex(menu)<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickMenu(menu)<span class="token punctuation">&quot;</span></span>
     <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#title</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{menu.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> <span class="token punctuation">{</span>useRouter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span>toRefs<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>

    <span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;menu&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>menu<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>

    <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">clickMenu</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">menu</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> url <span class="token operator">=</span> menu<span class="token punctuation">.</span>url
        router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span>url
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">setIndex</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">menu</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> menu<span class="token punctuation">.</span>url
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p>通过高亮部分引用组件自身，解决了导航层级可以是多级的问题。</p> <h2 id="vuex使用"><a href="#vuex使用" class="header-anchor">#</a> vuex使用</h2> <p>但是菜单这样引入不太优雅，日后这个数据是后台查出来的，而且别的地方也要使用，所以我用vuex存起来。</p> <p>vuex相关js都写在store文件夹中：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>├── store  
    ├── action.js 
    ├── getters.js 
    ├── mutations.js 
    ├── state.js 
    └── index.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="index-js"><a href="#index-js" class="header-anchor">#</a> index.js</h3> <p>首先来创建<code>store</code>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore<span class="token punctuation">,</span> createLogger <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">import</span> state <span class="token keyword">from</span> <span class="token string">'./state'</span>
<span class="token keyword">import</span> mutations <span class="token keyword">from</span> <span class="token string">'./mutations'</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> getters <span class="token keyword">from</span> <span class="token string">'./getters'</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> actions <span class="token keyword">from</span> <span class="token string">'./actions'</span>

<span class="token keyword">const</span> debug <span class="token operator">=</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_APP_NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'prod'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  state<span class="token punctuation">,</span>
  getters<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  actions<span class="token punctuation">,</span>
  <span class="token literal-property property">strict</span><span class="token operator">:</span> debug<span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> debug <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token function">createLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">//在测试环境调试vuex的插件</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>然后在<code>main.js</code>中使用<code>store</code>:</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>

<span class="token keyword">import</span> ElementPlus <span class="token keyword">from</span> <span class="token string">'element-plus'</span>
<span class="token keyword">import</span> <span class="token string">'element-plus/dist/index.css'</span>
<span class="token keyword">import</span> zhCn <span class="token keyword">from</span> <span class="token string">&quot;element-plus/es/locale/lang/zh-cn&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

app
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementPlus<span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token literal-property property">locale</span><span class="token operator">:</span> zhCn<span class="token punctuation">,</span>
        <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&quot;small&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="state-js"><a href="#state-js" class="header-anchor">#</a> state.js</h3> <p>接下来定义state,目前只需要左侧导航栏的数据：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">menuList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">//左侧导航栏</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> state
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="mutations-js"><a href="#mutations-js" class="header-anchor">#</a> mutations.js</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">setMenuList</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> menuList</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>menuList <span class="token operator">=</span> menuList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> mutations
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="actions-js"><a href="#actions-js" class="header-anchor">#</a> actions.js</h3> <p>actions中封装一个获取导航栏数据的方法,从json导入只是一个临时的做法，日后应该是接口请求到的数据</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getMenuList</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">,</span> state<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../data/menuData'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setMenuList'</span><span class="token punctuation">,</span>res<span class="token punctuation">.</span>menuList<span class="token punctuation">)</span>
        <span class="token keyword">return</span> res<span class="token punctuation">.</span>menuList
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="getters-js"><a href="#getters-js" class="header-anchor">#</a> getters.js</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">menuList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>menuList
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="左侧导航栏使用vuex的数据"><a href="#左侧导航栏使用vuex的数据" class="header-anchor">#</a> 左侧导航栏使用vuex的数据</h3> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-scrollbar</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-menu</span>
                <span class="token attr-name">:default-active</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>defaultActive<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">unique-opened</span>
            <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slide-menu</span>
                    <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in menus<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">:menu</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span>
                <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slide-menu</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-menu</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-scrollbar</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> <span class="token punctuation">{</span>computed<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span>useRoute<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span>useStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span>
    <span class="token keyword">import</span> SlideMenu <span class="token keyword">from</span> <span class="token string">&quot;./components/slideMenu.vue&quot;</span>

    <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> defaultActive <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> route<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
    <span class="token keyword">const</span> menus <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>menuList<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="使用mockjs模拟数据"><a href="#使用mockjs模拟数据" class="header-anchor">#</a> 使用mockjs模拟数据</h2> <p>有时候前端会遇到写得比后端快的情况，为了不被拖进度，前端可以自行模拟一下接口和数据，这里我使用了<code>mockjs</code>。
<code>mockjs</code>通过随机数据,模拟各种场景。 开发无侵入 不需要修改既有代码,就可以拦截 Ajax 请求,返回模拟的响应数据。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// src/mock/index.js</span>
<span class="token keyword">import</span> Mock <span class="token keyword">from</span> <span class="token string">'mockjs'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> menuList <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./menuData.js'</span>

<span class="token comment">// 可以设置响应的时间，模拟网络耗时，单位是ms</span>
Mock<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token string">'200 - 400'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 获取menu数据</span>
<span class="token comment">// 参数: url, 请求方式， 数据模板（可以是对象或字符串）</span>
Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">'/menu/list'</span><span class="token punctuation">,</span> <span class="token string">'get'</span><span class="token punctuation">,</span> menuList<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>然后在<code>main.js</code>中引入<code>./mock/index.js</code>。<br>
就可以在<code>actions.js</code>中把获取导航栏数据改成接口获取形式。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>http<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/utils/request'</span> <span class="token comment">//自己封装的axios方法，太简单了不赘述</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getMenuList</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">,</span> state<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/menu/list'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setMenuList'</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>算了还是赘述一下</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// utils/request.js</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElMessage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'element-plus'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/utils/auth'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'@/store'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'@/router'</span>

<span class="token comment">/**
* 例如 http://192.168.0.107:180/DISKSERVICE/*****
* baseUrl: http://192.168.0.107:180 即协议主机地址加端口号
* baseAPI:  DISKSERVICE 微服务的服务名
*/</span>
<span class="token keyword">function</span> <span class="token function">packAxios</span><span class="token punctuation">(</span> baseUrl <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>baseAPI <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token punctuation">(</span>baseAPI<span class="token operator">||</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_APP_BASE_API</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;/&quot;</span><span class="token operator">+</span>baseUrl
    <span class="token keyword">let</span> tempAxios <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">baseURL</span><span class="token operator">:</span> url<span class="token punctuation">,</span>
        <span class="token literal-property property">timeout</span><span class="token operator">:</span><span class="token number">5000</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    tempAxios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        config<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Authorization'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        config<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Content-Type'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'application/json;charset=utf-8'</span><span class="token punctuation">;</span>

        <span class="token comment">//处理一下直接拼接在url后的参数</span>
        config<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token function">encodeURI</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>url<span class="token punctuation">)</span>
        config<span class="token punctuation">.</span>url <span class="token operator">=</span> config<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(#)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        config<span class="token punctuation">.</span>url <span class="token operator">=</span> config<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token string">'+'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> config
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    tempAxios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> response<span class="token punctuation">.</span>data<span class="token operator">||</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> tempAxios
<span class="token punctuation">}</span>

<span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">packAxios</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//这里后端用微服务就可以随意更改服务地址了</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span>
    http
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h2 id="动态添加路由"><a href="#动态添加路由" class="header-anchor">#</a> 动态添加路由</h2> <p>现在获取动态路由及菜单的方法写好了，但是还没有地方调用这个方法。我的思路是这样的：
在路由的<code>beforeEach</code>守卫中判断<code>store</code>里的<code>menuList</code>的长度，如果长度为0，就触发<code>actions</code>的<code>getMenuList</code>方法，将返回的数据添加到<code>store</code>中，然后再动态的添加路由。</p> <h3 id="使用nprogress-添加路由守卫"><a href="#使用nprogress-添加路由守卫" class="header-anchor">#</a> 使用nprogress，添加路由守卫</h3> <p><code>NProgress</code>是页面跳转是出现在浏览器顶部的进度条,用这个的原因嘛。。。。因为别人都这么用的。。我不用岂不是很过时，反正我就加上了。
新建<code>permission.js</code>,先把这个进度条加上</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> NProgress <span class="token keyword">from</span> <span class="token string">&quot;nprogress&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">install</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> <span class="token punctuation">{</span>router<span class="token punctuation">,</span> store<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            NProgress<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            NProgress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>然后在<code>mian.js</code>中引入</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>

<span class="token keyword">import</span> ElementPlus <span class="token keyword">from</span> <span class="token string">'element-plus'</span>
<span class="token keyword">import</span> zhCn <span class="token keyword">from</span> <span class="token string">&quot;element-plus/es/locale/lang/zh-cn&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> permission <span class="token keyword">from</span> <span class="token string">&quot;@/utils/permission&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'./mock/index'</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

app
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementPlus<span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token literal-property property">locale</span><span class="token operator">:</span> zhCn<span class="token punctuation">,</span>
        <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&quot;small&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>permission<span class="token punctuation">,</span> <span class="token punctuation">{</span> router<span class="token punctuation">,</span> store <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p><code>use()</code>方法作用是安装 <code>Vue.js</code> 插件。如果插件是一个对象，它必须暴露一个 <code>install</code> 方法。如果它本身是一个函数，它将被视为安装方法。
该安装方法将以应用实例作为第一个参数被调用。传给 <code>use</code> 的其他 <code>options</code> 参数将作为后续参数传入该安装方法。</p></div> <h3 id="请求菜单数据"><a href="#请求菜单数据" class="header-anchor">#</a> 请求菜单数据</h3> <p>然后判断一下<code>store</code>中<code>menuList</code>的长度，获取<code>menuList</code>的数据:</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> NProgress <span class="token keyword">from</span> <span class="token string">&quot;nprogress&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">install</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> <span class="token punctuation">{</span>router<span class="token punctuation">,</span> store<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            NProgress<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>menuList<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//请求菜单栏数据</span>
                <span class="token keyword">const</span> menuList <span class="token operator">=</span> <span class="token keyword">await</span> store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'getMenuList'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            NProgress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>现在store中有导航栏数据了，侧边栏的渲染也没问题了，但是页面还不能跳转，因为没有添加路由。</p> <h3 id="动态添加路由-2"><a href="#动态添加路由-2" class="header-anchor">#</a> 动态添加路由</h3> <p>vue2.x的时候动态添加路由我一直用的<code>addRoutes</code>，但是这回直接用报错了，查过之后才知道最新版本的<code>vue-router</code>把这个方法移除了，现在都用<code>addRoute</code>。
因为是用<code>vite</code>,所以<code>menuList</code>需要处理一下，添加两个公共方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">calcMenuList</span><span class="token punctuation">(</span><span class="token parameter">menuList</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    menuList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>children <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">calcMenu</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
            <span class="token comment">//遇到有子路由的递归</span>
            <span class="token function">calcMenuList</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>children<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token function">calcMenu</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> menuList
<span class="token punctuation">}</span>

<span class="token comment">//vite批量引入views下的vue组件</span>
<span class="token keyword">const</span> modules <span class="token operator">=</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span><span class="token function">globEager</span><span class="token punctuation">(</span><span class="token string">'../views/**/*.vue'</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">calcMenu</span><span class="token punctuation">(</span><span class="token parameter">menu</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">'../views'</span><span class="token operator">+</span>menu<span class="token punctuation">.</span>component<span class="token operator">+</span><span class="token string">'.vue'</span>
    <span class="token keyword">const</span> file <span class="token operator">=</span> modules<span class="token punctuation">[</span>url<span class="token punctuation">]</span><span class="token punctuation">.</span>default
    menu<span class="token punctuation">.</span>component <span class="token operator">=</span> file
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>现在<code>vue-router</code>需要的数据就改造成功了~我们来添加路由吧：</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> NProgress <span class="token keyword">from</span> <span class="token string">&quot;nprogress&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>calcMenuList<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/utils/common'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">install</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> <span class="token punctuation">{</span>router<span class="token punctuation">,</span> store<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            NProgress<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>menuList<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//请求菜单栏数据</span>
                <span class="token keyword">const</span> menuList <span class="token operator">=</span> <span class="token keyword">await</span> store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'getMenuList'</span><span class="token punctuation">)</span>
                <span class="token keyword">const</span> menus <span class="token operator">=</span> <span class="token function">calcMenuList</span><span class="token punctuation">(</span>menuList<span class="token punctuation">)</span>
                <span class="token comment">//添加路由</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token keyword">of</span> menus<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
                <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span>to<span class="token punctuation">,</span><span class="token literal-property property">replace</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            NProgress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>添加完路由后就会自动跳转到第一个页面。</p> <h2 id="使用element-plus以及修改样式"><a href="#使用element-plus以及修改样式" class="header-anchor">#</a> 使用element-plus以及修改样式</h2> <p>element-plus的组件固然好用，但是UI设计师们有自己的想法，那么该怎么改element-plus的样式呢？其实官网上说得很清楚了。我复述一下。</p> <h3 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h3> <p><code>element-plus</code>的<code>theme-chalk</code>使用<code>SCSS</code>编写而成。你可以在<code>packages/theme-chalk/src/common/var.scss</code>文件中查找SCSS变量。</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>我们使用 <code>sass</code> 模块（sass:map...）来重构所有的 SCSS 变量。
例如， 使用$colors变量映射不同颜色。
$notification 是所有notification 组件的变量的映射。
未来，我们将为每个组件的自定义变量编写文档。 你也可以直接查看源代码 var.scss</p></div> <h3 id="实践"><a href="#实践" class="header-anchor">#</a> 实践</h3> <p>新建<code>_var.scss</code>:</p> <div class="language-scss line-numbers-mode"><pre class="language-scss"><code><span class="token keyword">@forward</span> <span class="token string">&quot;element-plus/theme-chalk/src/common/var.scss&quot;</span> <span class="token module-modifier keyword">with</span> <span class="token punctuation">(</span>
  <span class="token property"><span class="token variable">$colors</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span>
    <span class="token string">'primary'</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>
      <span class="token string">'base'</span><span class="token punctuation">:</span> #3FA1FC<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token property"><span class="token variable">$font-size</span></span><span class="token punctuation">:</span><span class="token punctuation">(</span>
    <span class="token string">'extra-large'</span><span class="token punctuation">:</span> 20px<span class="token punctuation">,</span>
    <span class="token string">'large'</span><span class="token punctuation">:</span> 18px<span class="token punctuation">,</span>
    <span class="token string">'medium'</span><span class="token punctuation">:</span> 16px<span class="token punctuation">,</span>
    <span class="token string">'base'</span><span class="token punctuation">:</span> 14px<span class="token punctuation">,</span>
    <span class="token string">'small'</span><span class="token punctuation">:</span> 14px<span class="token punctuation">,</span>
    <span class="token string">'extra-small'</span><span class="token punctuation">:</span> 12px<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token property"><span class="token variable">$collapse</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span>
      <span class="token string">'header-height'</span><span class="token punctuation">:</span> auto
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token property"><span class="token variable">$table</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span>
    <span class="token string">'font-color'</span><span class="token punctuation">:</span> #0A1222<span class="token punctuation">,</span>
    <span class="token string">'header-font-color'</span><span class="token punctuation">:</span> #0A1222<span class="token punctuation">,</span>
    <span class="token string">'header-background-color'</span><span class="token punctuation">:</span> #F0F0F0
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token property"><span class="token variable">$dialog</span></span><span class="token punctuation">:</span><span class="token punctuation">(</span>
    <span class="token string">'width'</span><span class="token punctuation">:</span> 50%<span class="token punctuation">,</span>
    <span class="token string">'margin-top'</span><span class="token punctuation">:</span> 97px<span class="token punctuation">,</span>
    <span class="token string">'box-shadow'</span><span class="token punctuation">:</span> 0px 0px 8px 0px <span class="token function">rgba</span><span class="token punctuation">(</span>202<span class="token punctuation">,</span> 206<span class="token punctuation">,</span> 213<span class="token punctuation">,</span> 0.91<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">'title-font-size'</span><span class="token punctuation">:</span> 20px<span class="token punctuation">,</span>
    <span class="token string">'content-font-size'</span><span class="token punctuation">:</span> 14px<span class="token punctuation">,</span>
    <span class="token string">'padding-primary'</span><span class="token punctuation">:</span> 20px<span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>这里改了一些定义好的scss变量。</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>开头是下划线 _ 的文件，sass不会打包成单独的文件，但是引用的时候可以直接用var.scss</p></div> <p>但是dialog组件还是不太符合需求，所以新建<code>_dialog.scss</code>：</p> <div class="language-scss line-numbers-mode"><pre class="language-scss"><code><span class="token selector">.el-dialog__header</span><span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #EDF2F6<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px 6px 0 0<span class="token punctuation">;</span>
  <span class="token selector">.el-dialog__title</span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span>#62798A<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.el-dialog__headerbtn</span><span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span>25px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.el-dialog__footer</span><span class="token punctuation">{</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.el-dialog</span><span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.el-dialog__body</span><span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
  <span class="token property">max-height</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100vh <span class="token operator">-</span> 250px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>可以更加细致的自定义一些样式，其他的组件想要改样式也建议这样改</p> <p>新建<code>index.scss</code>并在<code>main.js</code>中引入：</p> <div class="language-scss line-numbers-mode"><pre class="language-scss"><code><span class="token keyword">@use</span> <span class="token string">&quot;./var.scss&quot;</span> <span class="token module-modifier keyword">as</span> *<span class="token punctuation">;</span>
<span class="token keyword">@use</span> <span class="token string">&quot;element-plus/theme-chalk/src/index.scss&quot;</span> <span class="token module-modifier keyword">as</span> *<span class="token punctuation">;</span>
<span class="token keyword">@use</span> <span class="token string">&quot;./dialog.scss&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>再刷新一下页面看，样式就改完啦。</p> <h2 id="在页面中嵌套iframe"><a href="#在页面中嵌套iframe" class="header-anchor">#</a> 在页面中嵌套iframe</h2> <p>如果系统里想嵌套别的页面怎么办，可以用iframe,效果嘛如下：
<img src="https://daodaoblogpicgo.oss-cn-shanghai.aliyuncs.com/img/20210220211126132202.png" alt=""></p> <p>思路：在<code>Layout</code>文件夹下新建<code>Iframe.vue</code>，这个页面用来加载<code>iframe</code>,路由的<code>props</code>传递要加载的<code>url</code>，路由的<code>components</code>指向<code>Iframe.vue</code>就好啦。</p> <p>先写<code>Iframe.vue</code>：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- v-loading是element-plus的指令，用来实现加载中的遮罩效果 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iframe-wrapper<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">v-loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>load<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">element-loading-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>加载中<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iframe<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>props.url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>defineProps<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> load <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> iframe <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">setLoad</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">$onLoad</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        load<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//这里主要是为了兼容ie</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>iframe<span class="token punctuation">.</span>value<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        iframe<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">&quot;onload&quot;</span><span class="token punctuation">,</span> $onLoad<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        iframe<span class="token punctuation">.</span>value<span class="token punctuation">.</span>onload <span class="token operator">=</span> $onLoad
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">iframe, .iframe-wrapper</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><p>然后导航栏数据加上一条参考文档，<code>component</code>为<code>iframe</code>要加载的地址：</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> menuList <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/organization'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'组织管理'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'zzgl'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span><span class="token string">'zzgl'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'menu'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'/Layout/Layout'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token comment">//...</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'wd'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">icon</span><span class="token operator">:</span><span class="token string">'circle'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">'/organization/wendang'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'button'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;wendang&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;参考文档&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'https://element-plus.gitee.io/zh-CN/'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//...</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>最后<code>common.js</code>中的<code>calcMenu</code>方法修改一下,如果<code>component</code>的地址开头为<code>http</code>或者<code>https</code>,就将模板替换为<code>Iframe.vue</code>,同时<code>route</code>传递含有<code>url</code>的<code>props</code>:</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token comment">//common.js</span>

<span class="token comment">//...</span>
<span class="token keyword">const</span> modules <span class="token operator">=</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span><span class="token function">globEager</span><span class="token punctuation">(</span><span class="token string">'../views/**/*.vue'</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">calcMenu</span><span class="token punctuation">(</span><span class="token parameter">menu</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">testUrlHead</span><span class="token punctuation">(</span>menu<span class="token punctuation">.</span>component<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">'../views/Layout/Iframe.vue'</span>
        <span class="token keyword">const</span> file <span class="token operator">=</span> modules<span class="token punctuation">[</span>url<span class="token punctuation">]</span><span class="token punctuation">.</span>default
        menu<span class="token punctuation">.</span>props <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">url</span><span class="token operator">:</span>menu<span class="token punctuation">.</span>component<span class="token punctuation">}</span>
        menu<span class="token punctuation">.</span>component <span class="token operator">=</span> file
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">'../views'</span> <span class="token operator">+</span> menu<span class="token punctuation">.</span>component <span class="token operator">+</span> <span class="token string">'.vue'</span>
        <span class="token keyword">const</span> file <span class="token operator">=</span> modules<span class="token punctuation">[</span>url<span class="token punctuation">]</span><span class="token punctuation">.</span>default
        menu<span class="token punctuation">.</span>component <span class="token operator">=</span> file
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">testUrlHead</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(http)|(https)</span><span class="token regex-delimiter">/</span></span>
    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="封装no-data组件和指令"><a href="#封装no-data组件和指令" class="header-anchor">#</a> 封装no-data组件和指令</h2> <p>后台系统肯定会有一些异常状态，比如说表格没数据啊，某个页面还没开发呀之类的，一般都会封装一个<code>no-data</code>组件表示当前没有数据,我也封装了一个，效果如下：
<img src="https://daodaoblogpicgo.oss-cn-shanghai.aliyuncs.com/img/20210220211126135741.png" alt=""></p> <h3 id="封装no-data组件"><a href="#封装no-data组件" class="header-anchor">#</a> 封装no-data组件</h3> <p>这个组件本身还是很容易的，就一张图片居中，props传入想要的文案：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>// noData.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-data-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'no-data'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span>String<span class="token punctuation">,</span>
                <span class="token keyword">default</span><span class="token operator">:</span><span class="token string">'暂无数据'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.no-data</span> <span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token selector">.no-data-content</span> <span class="token punctuation">{</span>
            <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
            <span class="token selector">.icon</span> <span class="token punctuation">{</span>
                <span class="token property">width</span><span class="token punctuation">:</span>250px<span class="token punctuation">;</span>
                <span class="token property">height</span><span class="token punctuation">:</span>266px<span class="token punctuation">;</span>
                <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
                <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;../../assets/img/noData.png&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
                <span class="token property">background-size</span><span class="token punctuation">:</span> 250px 266px<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token selector">.text</span> <span class="token punctuation">{</span>
                <span class="token property">margin-top</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
                <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
                <span class="token property">color</span><span class="token punctuation">:</span>#333<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><p>但是这样每次用都要引入组件使用组件，写出很多并不好看的代码来，能不能像<code>element-plus</code>的<code>v-loading</code>一样呢？只要一个<code>v-no-data</code>指令，传入<code>true</code>就显示<code>no-data</code>组件的东西。</p> <h3 id="封装指令"><a href="#封装指令" class="header-anchor">#</a> 封装指令</h3> <p>需要把一个组件显示在某个div中的这种行为还挺常见的，以后肯定会封装出一系列差不多的指令出来，所以为了减少重复代码~先写一个封装指令的方法~</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// utils/createDirectiveByComponent.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createApp<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">//这两个就是添加class和移除class的方法，不赘述</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>addClass<span class="token punctuation">,</span> removeClass<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./common.js'</span>

<span class="token comment">//这个class是给元素赋予position:relative的</span>
<span class="token keyword">const</span> relativeCls <span class="token operator">=</span> <span class="token string">'g-relative'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">createDirectiveByComponent</span><span class="token punctuation">(</span><span class="token parameter">Comp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 实例化Comp组件</span>
            <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>Comp<span class="token punctuation">)</span>
            <span class="token comment">// 将实例挂载到一个div上</span>
            <span class="token keyword">const</span> instance <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token comment">// 获取这个组件的名字</span>
            <span class="token keyword">const</span> name <span class="token operator">=</span> Comp<span class="token punctuation">.</span>name
            <span class="token comment">// 因为el上可能不止绑定了一个指令，所以需要根据名字来区分一下</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>el<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                el<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 将实例存在el[name].instance上，因为instance在append和remove方法上访问不到</span>
            el<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> instance
            <span class="token comment">// 获取指令传入的参数</span>
            <span class="token keyword">const</span> title <span class="token operator">=</span> binding<span class="token punctuation">.</span>arg
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> title <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                instance<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//如果指令绑定的值是true,就把instance添加到el上</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>binding<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">append</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">updated</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> title <span class="token operator">=</span> binding<span class="token punctuation">.</span>arg
            <span class="token keyword">const</span> name <span class="token operator">=</span> Comp<span class="token punctuation">.</span>name
            <span class="token comment">// 指令传参改变就变一下标题</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> title <span class="token operator">!=</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                el<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 如果指令绑定值为true就添加元素，如果是false就删除</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>binding<span class="token punctuation">.</span>value <span class="token operator">!==</span> binding<span class="token punctuation">.</span>oldValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                binding<span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token function">append</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">remove</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> name <span class="token operator">=</span> Comp<span class="token punctuation">.</span>name
        <span class="token keyword">const</span> style <span class="token operator">=</span> <span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'absolute'</span><span class="token punctuation">,</span><span class="token string">'fixed'</span><span class="token punctuation">,</span><span class="token string">'relative'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>style<span class="token punctuation">.</span>position<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">addClass</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> relativeCls<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>el<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>$el<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> name <span class="token operator">=</span> Comp<span class="token punctuation">.</span>name
        <span class="token function">removeClass</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> relativeCls<span class="token punctuation">)</span>
        el<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>$el<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><p>然后创建<code>no-data</code>指令就容易了：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// components/noData/noDataDirective.js</span>

<span class="token keyword">import</span> NoData <span class="token keyword">from</span> <span class="token string">'./noData.vue'</span>
<span class="token keyword">import</span> createDirectiveByComponent <span class="token keyword">from</span> <span class="token string">'@/utils/createDirectiveByComponent.js'</span>

<span class="token keyword">const</span> noDataDirective <span class="token operator">=</span> <span class="token function">createDirectiveByComponent</span><span class="token punctuation">(</span>NoData<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> noDataDirective
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>然后在main.js中注册一下指令:</p> <div class="language-js {14, 26} line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>

<span class="token keyword">import</span> <span class="token string">'@/style/element/index.scss'</span>
<span class="token keyword">import</span> <span class="token string">&quot;nprogress/nprogress.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ElementPlus <span class="token keyword">from</span> <span class="token string">'element-plus'</span>
<span class="token keyword">import</span> zhCn <span class="token keyword">from</span> <span class="token string">&quot;element-plus/es/locale/lang/zh-cn&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> permission <span class="token keyword">from</span> <span class="token string">&quot;@/utils/permission&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'./mock/index'</span>

<span class="token keyword">import</span> noDataDirective <span class="token keyword">from</span> <span class="token string">&quot;@/components/noData/noDataDirective.js&quot;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

app
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementPlus<span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token literal-property property">locale</span><span class="token operator">:</span> zhCn<span class="token punctuation">,</span>
        <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&quot;small&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>permission<span class="token punctuation">,</span> <span class="token punctuation">{</span> router<span class="token punctuation">,</span> store <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'no-data'</span><span class="token punctuation">,</span> noDataDirective<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>再适当改造一下<code>no-data</code>组件：</p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-data-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'no-data'</span><span class="token punctuation">,</span>
        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span><span class="token string">'暂无数据'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token parameter">title</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

//....
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>现在就可以使用<code>no-data</code>指令了：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-no-data:</span>[text]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

//...
const text = ref('哼,就是没有数据')
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Ostask/daodao-knowledge/edit/master/docs/vue3/04.vue3 + vite创建后台管理系统.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer></div> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/daodao-knowledge/pages/815447/" class="prev">
        学黄轶老师vue3音乐APP(6-10章)
      </a></span> <!----></p></div>  <div class="footer">
    MIT Licensed | Copyright © 2021-present 刀刀
  </div></main></div><div class="global-ui"></div></div>
    <script src="/daodao-knowledge/assets/js/app.4258478e.js" defer></script><script src="/daodao-knowledge/assets/js/7.6de88e70.js" defer></script><script src="/daodao-knowledge/assets/js/73.e0dfad5d.js" defer></script>
  </body>
</html>
